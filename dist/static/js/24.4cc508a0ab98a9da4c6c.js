webpackJsonp([24],{K0Al:function(e,t){},StrT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),r=a.n(s),o=a("woOf"),l=a.n(o),i=a("Dd8w"),c=a.n(i),n=a("NYxO"),_=a("hQsj"),d={name:"airorder",data:function(){return{active:1,people:{adult:1,children:0},luggages:{max:1,min:0},dayOrderData:{},destination:[],carPrice:0,childrenPrice:0,brandpickupPrice:0,highWayPrice:0,totalPrice:0,showSpareInfo:!1,currency:"",form:{name:"",peopleNum:this.$t("m.adult")+"*1，"+this.$t("m.children")+"*0",luggage:this.$t("order.large-luggage")+"*1，"+this.$t("order.carry-on-luggage")+"*0",contact:"",phone:"",wechat:"",remark:"",brand_pick_up:!1,isHighWay:!1,isSendMsg:!1,areaCode:"+86",areaCode2:"+86",coupon_id:"",spare_contact_name:"",spare_contact_mobile:"",spare_wechat:"",is_send_spare_msg:!1},areaCode:[],isShowPersonBox:!1,isShowLuggageBox:!1,isShowCoupon:!1,coupon:0}},computed:c()({},Object(n.e)({lang:function(e){return e.lang}})),created:function(){var e=this;document.addEventListener("click",function(t){var a=document.getElementById("peopleBox"),s=document.getElementById("luggageBox");a&&a.contains(t.target)?e.isShowPersonBox=!0:e.isShowPersonBox=!1,s&&s.contains(t.target)?e.isShowLuggageBox=!0:e.isShowLuggageBox=!1})},mounted:function(){var e=JSON.parse(sessionStorage.getItem("dayOrderData"));this.dayOrderData=e,this.carPrice=Number(e.car.price),this.currency=e.currency,console.log(this.dayOrderData),this.areaCode=Object(_.a)(this.$t("m.china"),this.$t("m.australia"),this.$t("m.new-zealand"),this.$t("m.hong-kong")),this.countTotalPrice()},methods:{next:function(){var e=this;if(this.form.contact)if(this.form.phone)if(0!=this.people.adult){var t=this.dayOrderData.param,a={adults:this.people.adult,children:this.people.children,contact_name:this.form.contact,contact_mobile:this.form.phone,wechat:this.form.wechat,car_id:this.dayOrderData.car.id,big_luggage:this.luggages.max,small_luggage:this.luggages.min,is_send_sms:this.form.isSendMsg?1:0,coupon_id:0,mobile_area_code:this.form.areaCode,spare_mobile_area_code:this.form.spare_contact_mobile?this.form.areaCode2:"",spare_contact_name:this.form.spare_contact_name,spare_contact_mobile:this.form.spare_contact_mobile,spare_wechat:this.form.spare_wechat,is_send_spare_msg:this.form.is_send_spare_msg?1:0,remark:this.form.remark};l()(t,a),this.$axios.post(this.lang+"/day-charter/make",t).then(function(t){var a=t.data.data.currency_symbol+t.data.data.total_fee;sessionStorage.setItem("payParams",r()({num:a,out_trade_no:t.data.data.out_trade_no})),e.$router.push({name:"payorder"})})}else this.$message.error(this.$t("yz.null-adult"));else this.$message.error(this.$t("yz.null-phone"));else this.$message.error(this.$t("yz.null-name"))},changePerson:function(){this.isShowPersonBox=!1,this.form.peopleNum=this.$t("m.adult")+"*"+this.people.adult+"，"+this.$t("m.children")+"*"+this.people.children,this.childrenPrice=this.people.children>1?this.dayOrderData.extra_ffee.children_seat:0,this.countTotalPrice()},changeLuggage:function(){this.isShowLuggageBox=!1,this.form.luggage=this.$t("order.large-luggage")+"*"+this.luggages.max+"，"+this.$t("order.carry-on-luggage")+"*"+this.luggages.min},countTotalPrice:function(){this.totalPrice=this.carPrice+this.childrenPrice},useCoupon:function(e){this.coupon=e,this.isShowCoupon=!1}}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"airorder box"},[s("div",{staticClass:"steps"},[s("el-steps",{attrs:{active:e.active,"finish-status":"success"}},[s("el-step",{attrs:{title:e.$t("order.select")}}),e._v(" "),s("el-step",{attrs:{title:e.$t("order.details")}}),e._v(" "),s("el-step",{attrs:{title:e.$t("order.payment")}}),e._v(" "),s("el-step",{attrs:{title:e.$t("m.done")}})],1)],1),e._v(" "),s("div",{staticClass:"info"},[s("el-form",{staticClass:"form",attrs:{model:e.form}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"p-relative",attrs:{id:"peopleBox"}},[s("el-input",{staticClass:"radius",class:{require:e.people.adult<1&&e.people.children<1},attrs:{value:e.form.peopleNum,placeholder:e.$t("order.passengers")},on:{focus:function(t){e.isShowPersonBox=!0}}}),e._v(" "),e.isShowPersonBox?s("div",{staticClass:"drop-box"},[s("div",{staticClass:"select-box flex-between"},[s("span",{staticClass:"fz14 color-333 fw550"},[e._v(e._s(e.$t("m.adult")))]),e._v(" "),s("el-input-number",{attrs:{min:0},model:{value:e.people.adult,callback:function(t){e.$set(e.people,"adult",t)},expression:"people.adult"}})],1),e._v(" "),s("div",{staticClass:"select-box flex-between "},[s("span",{staticClass:"fz14 color-333 fw550"},[e._v(e._s(e.$t("m.children"))+"("+e._s(e.$t("m.seven-age"))+")")]),e._v(" "),s("el-input-number",{attrs:{min:0},model:{value:e.people.children,callback:function(t){e.$set(e.people,"children",t)},expression:"people.children"}})],1),e._v(" "),s("p",{staticClass:"fz14 color-666 mt10"},[e._v(e._s(e.$t("order.passengers-tips")))]),e._v(" "),s("p",{staticClass:"fz14 color-green text-right cursor mt10",on:{click:e.changePerson}},[e._v(e._s(e.$t("m.ok")))])]):e._e()],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"ml15 p-relative",attrs:{id:"luggageBox"}},[s("el-input",{staticClass:"radius",class:{require:e.luggages.max<1&&e.luggages.min<1},attrs:{value:e.form.luggage,placeholder:e.$t("order.luggages")},on:{focus:function(t){e.isShowLuggageBox=!0}}}),e._v(" "),e.isShowLuggageBox?s("div",{staticClass:"drop-box"},[s("div",{staticClass:"select-box flex-between"},[s("span",{staticClass:"fz14 color-333 fw550"},[e._v(e._s(e.$t("order.large-luggage")))]),e._v(" "),s("el-input-number",{attrs:{min:0},model:{value:e.luggages.max,callback:function(t){e.$set(e.luggages,"max",t)},expression:"luggages.max"}})],1),e._v(" "),s("div",{staticClass:"select-box flex-between "},[s("span",{staticClass:"fz14 color-333 fw550"},[e._v(e._s(e.$t("order.carry-on-luggage")))]),e._v(" "),s("el-input-number",{attrs:{min:0},model:{value:e.luggages.min,callback:function(t){e.$set(e.luggages,"min",t)},expression:"luggages.min"}})],1),e._v(" "),s("p",{staticClass:"fz14 color-666 mt10"},[e._v(e._s(e.$t("order.luggage-tips")))]),e._v(" "),s("p",{staticClass:"fz14 color-green text-right cursor mt10",on:{click:e.changeLuggage}},[e._v(e._s(e.$t("m.ok")))])]):e._e()],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",[s("el-input",{staticClass:"radius",class:{require:!e.form.contact},attrs:{placeholder:e.$t("order.name")},model:{value:e.form.contact,callback:function(t){e.$set(e.form,"contact",t)},expression:"form.contact"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"ml15"},[s("el-input",{staticClass:"tel-input radius",class:{"tel-require":!e.form.phone},attrs:{placeholder:e.$t("order.phone")},nativeOn:{keyup:function(t){e.form.phone=e.form.phone.replace(/[^\d]/g,"")}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[s("el-select",{staticClass:"area-code radius",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.form.areaCode,callback:function(t){e.$set(e.form,"areaCode",t)},expression:"form.areaCode"}},e._l(e.areaCode,function(t){return s("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[s("span",{staticStyle:{float:"left","margin-right":"10px"}},[e._v(e._s(t.label))]),e._v(" "),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}),1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"ml15"},[s("el-input",{staticClass:"radius",attrs:{placeholder:e.$t("order.wechat")},model:{value:e.form.wechat,callback:function(t){e.$set(e.form,"wechat",t)},expression:"form.wechat"}})],1)],1)],1),e._v(" "),s("el-row",{staticStyle:{top:"-18px"}},[s("el-col",{attrs:{span:6}},[s("span",{staticClass:"color-fff"},[e._v("x")])]),e._v(" "),e.showSpareInfo?e._e():s("el-col",{staticClass:"text-left",attrs:{span:11}},[s("el-switch",{staticClass:"ml15",attrs:{"active-color":"#4B9D63","inactive-color":"#E5E5E5"},model:{value:e.form.is_send_sms,callback:function(t){e.$set(e.form,"is_send_sms",t)},expression:"form.is_send_sms"}}),e._v(" "),s("span",{staticClass:"fz14 color-333 ml10"},[e._v(e._s(e.$t("order.send-msg")))])],1),e._v(" "),e.showSpareInfo?s("el-col",{staticClass:"text-left ",attrs:{span:11}},[s("el-switch",{staticClass:"ml15",attrs:{"active-color":"#4B9D63","inactive-color":"#E5E5E5"},model:{value:e.form.is_send_sms,callback:function(t){e.$set(e.form,"is_send_sms",t)},expression:"form.is_send_sms"}}),e._v(" "),s("span",{staticClass:"fz14 color-333 ml10"},[e._v(e._s(e.$t("order.send-msg")))])],1):e._e(),e._v(" "),s("el-col",{staticClass:"text-right ",attrs:{span:7}},[e.showSpareInfo?e._e():s("span",{staticClass:"fz14 color-green text-left cursor",on:{click:function(t){e.showSpareInfo=!0}}},[e._v("+ "+e._s(e.$t("order.add-person")))])])],1),e._v(" "),e.showSpareInfo?s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",[s("el-input",{staticClass:"radius",class:{require:!e.form.spare_contact_name},attrs:{placeholder:e.$t("order.name")},model:{value:e.form.spare_contact_name,callback:function(t){e.$set(e.form,"spare_contact_name",t)},expression:"form.spare_contact_name"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{staticClass:"ml15"},[s("el-input",{staticClass:"tel-input radius",class:{"tel-require":!e.form.spare_contact_mobile},attrs:{placeholder:e.$t("order.phone")},nativeOn:{keyup:function(t){e.form.spare_contact_mobile=e.form.spare_contact_mobile.replace(/[^\d]/g,"")}},model:{value:e.form.spare_contact_mobile,callback:function(t){e.$set(e.form,"spare_contact_mobile",t)},expression:"form.spare_contact_mobile"}},[s("el-select",{staticClass:"area-code radius",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.form.areaCode2,callback:function(t){e.$set(e.form,"areaCode2",t)},expression:"form.areaCode2"}},e._l(e.areaCode,function(t){return s("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[s("span",{staticStyle:{float:"left","margin-right":"10px"}},[e._v(e._s(t.label))]),e._v(" "),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}),1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"ml15"},[s("el-input",{staticClass:"radius",attrs:{placeholder:e.$t("order.wechat")},model:{value:e.form.spare_wechat,callback:function(t){e.$set(e.form,"spare_wechat",t)},expression:"form.spare_wechat"}})],1)],1)],1):e._e(),e._v(" "),e.showSpareInfo?s("el-row",{staticStyle:{top:"-18px"}},[s("el-col",{attrs:{span:12,offset:6}},[s("el-switch",{staticClass:"ml15",attrs:{"active-color":"#4B9D63","inactive-color":"#E5E5E5"},model:{value:e.form.is_send_spare_msg,callback:function(t){e.$set(e.form,"is_send_spare_msg",t)},expression:"form.is_send_spare_msg"}}),e._v(" "),s("span",{staticClass:"fz14 color-333 ml10"},[e._v(e._s(e.$t("order.send-msg")))])],1),e._v(" "),s("el-col",{attrs:{span:6}})],1):e._e(),e._v(" "),s("el-row",{staticClass:"mt20"},[s("el-col",{attrs:{span:24}},[s("el-input",{staticClass:"radius",attrs:{resize:"none",type:"textarea",placeholder:e.$t("order.note")},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),s("el-button",{staticClass:"next-btn mt60",on:{click:e.next}},[e._v(e._s(e.$t("m.next")))])],1),e._v(" "),s("div",{staticClass:"left"},[e.dayOrderData.daies?s("div",{staticClass:"order-info"},[s("div",{staticClass:"title"},[2==e.form.type?s("img",{attrs:{src:a("NqKz"),alt:""}}):e._e(),e._v(" "),1==e.form.type?s("img",{attrs:{src:a("mwoX"),alt:""}}):e._e(),e._v(" "),s("span",{staticClass:"fz16 color-333 fw550 ml10"},[e._v(e._s(e.dayOrderData.cityName)+" "+e._s(e.dayOrderData.daies.length)+" "+e._s(e.$t("order.days-charters")))])]),e._v(" "),s("div",{staticClass:"trap-info"},[s("p",[s("img",{attrs:{src:a("qscf"),alt:""}}),e._v(" "),s("span",{staticClass:"fz14 color-333 ml10"},[e._v(e._s(e.dayOrderData.param.start_date)+" ~ "+e._s(e.dayOrderData.param.end_date))])]),e._v(" "),e._l(e.dayOrderData.daies,function(t,r){return s("p",{key:r},[r<e.dayOrderData.daies.length-1?s("img",{attrs:{src:a("FGWT"),alt:""}}):e._e(),e._v(" "),r==e.dayOrderData.daies.length-1?s("img",{attrs:{src:a("xmsu"),alt:""}}):e._e(),e._v(" "),s("span",{staticClass:"fz14 color-333 fw550 ml10"},[e._v(e._s(t.day))]),e._v(" "),s("span",{staticClass:"fz14 color-333"},[e._v(e._s(t.type))])])})],2),e._v(" "),e.dayOrderData.car?s("div",{staticClass:"car flex-between"},[s("div",[s("p",{staticClass:"fz14 color-333 fw550"},[e._v(e._s(e.dayOrderData.car.name))]),e._v(" "),s("p",{staticClass:"max-w"},["zh"==e.lang?s("span",{staticClass:"fz14 color-333"},[e._v(e._s(e.dayOrderData.car.model)+"或同级别车型  可容纳 ")]):e._e(),e._v(" "),"en"==e.lang?s("span",{staticClass:"fz14 color-333"},[e._v(e._s(e.dayOrderData.car.model)+" corolla or similar ")]):e._e(),s("br"),e._v(" "),s("img",{staticClass:"ml5",attrs:{src:a("xTuL"),alt:""}}),e._v(" "),s("span",{staticClass:"fz14 color-green"},[e._v("*"+e._s(e.dayOrderData.car.people)+" ")]),e._v(" "),s("img",{attrs:{src:a("xJYx"),alt:""}}),e._v(" "),s("span",{staticClass:"fz14 color-green"},[e._v("*"+e._s(e.dayOrderData.car.luggage))])])]),e._v(" "),s("div",[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.dayOrderData.car.img,expression:"dayOrderData.car.img"}],staticClass:"car-img",attrs:{alt:""}})])]):e._e(),e._v(" "),s("div",[s("div",{staticClass:"flex-between server-info p-relative"},[s("div",[s("p",[e._v(e._s(e.$t("order.Daily-charter")))]),e._v(" "),s("p",[e._v(e._s(e.$t("order.baby-booster"))+" "),s("img",{staticClass:"wh14",attrs:{src:a("zOyB"),alt:""}})]),e._v(" "),s("p",[e._v(e._s(e.$t("order.discount"))+" "),s("img",{staticClass:"wh14",attrs:{src:a("zOyB"),alt:""}})])]),e._v(" "),s("div",[s("p",[e._v(e._s(e.currency)+e._s(e.carPrice))]),e._v(" "),s("p",[e._v(e._s(e.currency)+e._s(e.childrenPrice))]),e._v(" "),0==e.coupon?s("p",{staticClass:"cursor",on:{click:function(t){e.isShowCoupon=!e.isShowCoupon}}},[e._v(e._s(e.$t("order.coupon-tips"))+" "),s("i",{staticClass:"el-icon-arrow-right"})]):s("p",{staticClass:"fz14 color-green",on:{click:function(t){e.isShowCoupon=!e.isShowCoupon}}},[e._v("-"+e._s(e.currency)+e._s(e.coupon))])])]),e._v(" "),e.isShowCoupon?s("div",{staticClass:"coupon"},[s("div",{staticClass:"coupon-item flex-between item-center"},[s("img",{attrs:{src:a("k1eH"),alt:""}}),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"fz16 color-yellow cursor",on:{click:function(t){return e.useCoupon(10)}}},[e._v(e._s(e.$t("order.apply")))])]),e._v(" "),s("div",{staticClass:"coupon-item flex-between item-center"},[s("img",{attrs:{src:a("k1eH"),alt:""}}),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"fz16 color-yellow cursor"},[e._v(e._s(e.$t("order.apply")))])])]):e._e()]),e._v(" "),s("div",{staticClass:"flex-between total"},[s("div",[s("p",{staticClass:"fz16 color-333 fw550"},[e._v(e._s(e.$t("order.total")))]),e._v(" "),s("p",{staticClass:"fz14 color-333 fw550"},["en"==e.lang?s("span",[e._v(e._s(10*e.dayOrderData.extra_ffee.rebate_rate)+"% ")]):e._e(),e._v(e._s(e.$t("order.commission"))+"\n                    "),"zh"==e.lang?s("span",[e._v(e._s(10*e.dayOrderData.extra_ffee.rebate_rate)+"%")]):e._e(),e._v(" "),s("img",{staticClass:"wh14",attrs:{src:a("zOyB"),alt:""}})])]),e._v(" "),s("div",[s("p",{staticClass:"fz22 color-333 fw550"},[e._v(e._s(e.currency)+e._s(e.totalPrice.toFixed(2)))]),e._v(" "),s("p",{staticClass:"fz16 color-333 fw550"},[e._v(e._s(e.currency)+e._s((e.totalPrice.toFixed(2)*e.dayOrderData.extra_ffee.rebate_rate).toFixed(2)))])])])]):e._e(),e._v(" "),s("div",{staticClass:"flex-between tips"},[s("p",{staticClass:"fz14 color-333 max-w"},[e._v(e._s(e.$t("order.cancel-tips")))]),e._v(" "),e._m(2)])])],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"coupon-detail"},[a("p",{staticClass:"color-yellow"},[a("span",{staticClass:"fz16"},[e._v("￥")]),a("span",{staticClass:"fz26"},[e._v("10")]),e._v(" "),a("span",{staticClass:"fz16"},[e._v("包车劵")])]),e._v(" "),a("p",{staticClass:"fz14 color-666"},[e._v("【春节特别】包车旅游券")]),e._v(" "),a("p",{staticClass:"fz14 color-666"},[e._v("有效期至2018年2月28日")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"coupon-detail"},[a("p",{staticClass:"color-yellow"},[a("span",{staticClass:"fz16"},[e._v("￥")]),a("span",{staticClass:"fz26"},[e._v("10")]),e._v(" "),a("span",{staticClass:"fz16"},[e._v("包车劵")])]),e._v(" "),a("p",{staticClass:"fz14 color-666"},[e._v("【春节特别】包车旅游券")]),e._v(" "),a("p",{staticClass:"fz14 color-666"},[e._v("有效期至2018年2月28日")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{staticClass:"wh40",attrs:{src:a("CCyb"),alt:""}})])}]};var m=a("VU/8")(d,p,!1,function(e){a("K0Al")},"data-v-29f2d7a2",null);t.default=m.exports}});
//# sourceMappingURL=24.4cc508a0ab98a9da4c6c.js.map