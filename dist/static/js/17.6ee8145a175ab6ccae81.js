webpackJsonp([17],{iFx6:function(e,t){},lMXE:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),r=s.n(a),o=s("Dd8w"),i=s.n(o),l=s("NYxO"),c=s("hQsj"),n={name:"appointment",data:function(){return{active:1,people:{adult:1,children:0},showSpareInfo:!1,use_time:"",form:{name:"",peopleNum:this.$t("m.adult")+"*1，"+this.$t("m.children")+"*0",contact:"",phone:"",wechat:"",remark:"",spare_contact_name:"",spare_contact_mobile:"",is_send_sms:!1,areaCode:"+86",areaCode2:"+86",spare_wechat:"",is_send_spare_msg:!1},areaCode:[],isShowCoupon:!1,isShowPersonBox:!1,coupon:0,orderInfo:{},carPrice:0,childrenPrice:0,totalPrice:0,destination:[],distance:"",currency:"",extra_ffee:{}}},computed:i()({},Object(l.e)({lang:function(e){return e.lang}})),created:function(){var e=this;document.addEventListener("click",function(t){var s=document.getElementById("peopleBox");s&&s.contains(t.target)?e.isShowPersonBox=!0:e.isShowPersonBox=!1})},methods:{next:function(){var e=this;if(this.use_time)if(this.form.contact)if(this.form.phone){var t={use_time:this.use_time,address:this.orderInfo.address.concat([this.orderInfo.arrive]),city_id:this.orderInfo.city_id,adults:this.people.adult,children:this.people.children,contact_name:this.form.contact,contact_mobile:this.form.phone,car_id:this.orderInfo.car.id,is_send_sms:this.form.is_send_sms?1:0,coupon_id:0,mobile_area_code:this.form.areaCode,spare_mobile_area_code:this.form.spare_contact_mobile?this.form.areaCode2:"",spare_contact_name:this.form.spare_contact_name,spare_contact_mobile:this.form.spare_contact_mobile,wechat:this.form.wechat,spare_wechat:this.form.spare_wechat,is_send_spare_msg:this.form.is_send_spare_msg?1:0,remark:this.form.remark};this.$axios.post(this.lang+"/point-car/make",t).then(function(t){var s=t.data.data.currency_symbol+t.data.data.total_fee;sessionStorage.setItem("payParams",r()({num:s,out_trade_no:t.data.data.out_trade_no})),e.$router.push({name:"payorder"})})}else this.$message.error(this.$t("yz.null-phone"));else this.$message.error(this.$t("yz.null-name"));else this.$message.error(this.$t("yz.null-date"))},useCoupon:function(e){this.coupon=e,this.isShowCoupon=!1},changePerson:function(){this.isShowPersonBox=!1,this.form.peopleNum=this.$t("m.adult")+"*"+this.people.adult+"，"+this.$t("m.children")+"*"+this.people.children,this.childrenPrice=this.people.children>0?(this.people.children-1)*this.extra_ffee.children_seat:0,this.countTotalPrice()},countTotalPrice:function(){this.totalPrice=Number(this.childrenPrice)+Number(this.carPrice)},getToday:function(){var e=new Date;return e.setTime(e.getTime()),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},mounted:function(){var e=JSON.parse(sessionStorage.getItem("appointmentData"));this.orderInfo=e,this.use_time=e.use_time,this.carPrice=e.car.price,this.destination=e.address.join(","),this.currency=e.currency,this.distance=e.distance,this.extra_ffee=e.extra_ffee,console.log(e),this.countTotalPrice(),this.areaCode=Object(c.a)(this.$t("m.china"),this.$t("m.australia"),this.$t("m.new-zealand"),this.$t("m.hong-kong"))},watch:{use_time:function(){this.use_time&&new Date(this.getToday()).getTime()>new Date(this.use_time).getTime()&&(this.$message({message:this.$t("yz.less-today"),type:"warning"}),this.use_time="")}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appointment box"},[a("div",{staticClass:"steps"},[a("el-steps",{attrs:{active:e.active,"finish-status":"success"}},[a("el-step",{attrs:{title:e.$t("order.select")}}),e._v(" "),a("el-step",{attrs:{title:e.$t("order.details")}}),e._v(" "),a("el-step",{attrs:{title:e.$t("order.payment")}}),e._v(" "),a("el-step",{attrs:{title:e.$t("m.done")}})],1)],1),e._v(" "),a("div",{staticClass:"info"},[a("el-form",{staticClass:"form",attrs:{model:e.form}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-date-picker",{staticClass:"radius date",class:{require:!e.use_time},staticStyle:{width:"100%"},attrs:{type:"datetime","prefix-icon":"null",placeholder:e.$t("order.select-date")},model:{value:e.use_time,callback:function(t){e.use_time=t},expression:"use_time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"ml15",attrs:{id:"peopleBox"}},[a("el-input",{staticClass:"radius",class:{require:!e.form.peopleNum},attrs:{value:e.form.peopleNum,placeholder:e.$t("order.passengers")},on:{focus:function(t){e.isShowPersonBox=!0}}}),e._v(" "),e.isShowPersonBox?a("div",{staticClass:"drop-box"},[a("div",{staticClass:"select-box flex-between"},[a("span",{staticClass:"fz14 color-333 fw550"},[e._v(e._s(e.$t("m.adult")))]),e._v(" "),a("el-input-number",{attrs:{min:1},model:{value:e.people.adult,callback:function(t){e.$set(e.people,"adult",t)},expression:"people.adult"}})],1),e._v(" "),a("div",{staticClass:"select-box flex-between "},[a("span",{staticClass:"fz14 color-333 fw550"},[e._v(e._s(e.$t("m.children"))+"("+e._s(e.$t("m.seven-age"))+")")]),e._v(" "),a("el-input-number",{attrs:{min:0},model:{value:e.people.children,callback:function(t){e.$set(e.people,"children",t)},expression:"people.children"}})],1),e._v(" "),a("p",{staticClass:"fz14 color-666 mt10"},[e._v(e._s(e.$t("order.passengers-tips")))]),e._v(" "),a("p",{staticClass:"fz14 color-green text-right cursor mt10",on:{click:e.changePerson}},[e._v(e._s(e.$t("m.ok")))])]):e._e()],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-input",{staticClass:"radius",class:{require:!e.form.contact},attrs:{placeholder:e.$t("order.client-name2")},model:{value:e.form.contact,callback:function(t){e.$set(e.form,"contact",t)},expression:"form.contact"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"ml15"},[a("el-input",{staticClass:"tel-input radius",class:{"tel-require":!e.form.phone},attrs:{placeholder:e.$t("order.phone")},nativeOn:{keyup:function(t){e.form.phone=e.form.phone.replace(/[^\d]/g,"")}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[a("el-select",{staticClass:"area-code radius",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.form.areaCode,callback:function(t){e.$set(e.form,"areaCode",t)},expression:"form.areaCode"}},e._l(e.areaCode,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",{staticStyle:{float:"left","margin-right":"10px"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}),1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"ml15"},[a("el-input",{staticClass:"radius",attrs:{placeholder:e.$t("order.wechat")},model:{value:e.form.wechat,callback:function(t){e.$set(e.form,"wechat",t)},expression:"form.wechat"}})],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{top:"-18px"}},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"color-fff"},[e._v("x")])]),e._v(" "),e.showSpareInfo?e._e():a("el-col",{staticClass:"text-left",attrs:{span:11}},[a("el-switch",{staticClass:"ml15",attrs:{"active-color":"#4B9D63","inactive-color":"#E5E5E5"},model:{value:e.form.is_send_sms,callback:function(t){e.$set(e.form,"is_send_sms",t)},expression:"form.is_send_sms"}}),e._v(" "),a("span",{staticClass:"fz14 color-333 ml10"},[e._v(e._s(e.$t("order.send-msg")))])],1),e._v(" "),e.showSpareInfo?a("el-col",{staticClass:"text-left ",attrs:{span:11}},[a("el-switch",{staticClass:"ml15",attrs:{"active-color":"#4B9D63","inactive-color":"#E5E5E5"},model:{value:e.form.is_send_sms,callback:function(t){e.$set(e.form,"is_send_sms",t)},expression:"form.is_send_sms"}}),e._v(" "),a("span",{staticClass:"fz14 color-333 ml10"},[e._v(e._s(e.$t("order.send-msg")))])],1):e._e(),e._v(" "),a("el-col",{staticClass:"text-right ",attrs:{span:7}},[e.showSpareInfo?e._e():a("span",{staticClass:"fz14 color-green text-left cursor",on:{click:function(t){e.showSpareInfo=!0}}},[e._v("+ "+e._s(e.$t("order.add-person")))])])],1),e._v(" "),e.showSpareInfo?a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-input",{staticClass:"radius",class:{require:!e.form.spare_contact_name},attrs:{placeholder:e.$t("order.client-name2")},model:{value:e.form.spare_contact_name,callback:function(t){e.$set(e.form,"spare_contact_name",t)},expression:"form.spare_contact_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"ml15"},[a("el-input",{staticClass:"tel-input radius",class:{"tel-require":!e.form.spare_contact_mobile},attrs:{placeholder:e.$t("order.phone")},nativeOn:{keyup:function(t){e.form.spare_contact_mobile=e.form.spare_contact_mobile.replace(/[^\d]/g,"")}},model:{value:e.form.spare_contact_mobile,callback:function(t){e.$set(e.form,"spare_contact_mobile",t)},expression:"form.spare_contact_mobile"}},[a("el-select",{staticClass:"area-code radius",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.form.areaCode2,callback:function(t){e.$set(e.form,"areaCode2",t)},expression:"form.areaCode2"}},e._l(e.areaCode,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",{staticStyle:{float:"left","margin-right":"10px"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}),1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"ml15"},[a("el-input",{staticClass:"radius",attrs:{placeholder:e.$t("order.wechat")},model:{value:e.form.spare_wechat,callback:function(t){e.$set(e.form,"spare_wechat",t)},expression:"form.spare_wechat"}})],1)],1)],1):e._e(),e._v(" "),e.showSpareInfo?a("el-row",{staticStyle:{top:"-18px"}},[a("el-col",{attrs:{span:12,offset:6}},[a("el-switch",{staticClass:"ml15",attrs:{"active-color":"#4B9D63","inactive-color":"#E5E5E5"},model:{value:e.form.is_send_spare_msg,callback:function(t){e.$set(e.form,"is_send_spare_msg",t)},expression:"form.is_send_spare_msg"}}),e._v(" "),a("span",{staticClass:"fz14 color-333"},[e._v(e._s(e.$t("order.send-msg")))])],1),e._v(" "),a("el-col",{attrs:{span:6}})],1):e._e(),e._v(" "),a("el-row",{staticClass:"mt20"},[a("el-col",{attrs:{span:24}},[a("el-input",{staticClass:"radius",attrs:{resize:"none",type:"textarea",placeholder:e.$t("order.note")},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("el-button",{staticClass:"next-btn mt120",on:{click:e.next}},[e._v(e._s(e.$t("m.next")))])],1),e._v(" "),a("div",{staticClass:"left"},[e.orderInfo?a("div",{staticClass:"order-info"},[a("div",{staticClass:"title"},[a("img",{attrs:{src:s("zJCv"),alt:""}}),e._v(" "),a("span",{staticClass:"fz16 color-333 fw550 ml10"},[e._v(e._s(e.orderInfo.cityName)+" "+e._s(e.$t("order.reservation")))])]),e._v(" "),a("div",{staticClass:"trap-info"},[a("p",[a("img",{attrs:{src:s("qscf"),alt:""}}),e._v(" "),a("span",{staticClass:"fz14 color-333"},[e._v(e._s(e.orderInfo.use_time))])]),e._v(" "),a("p",[a("img",{attrs:{src:s("FGWT"),alt:""}}),e._v(" "),a("span",{staticClass:"fz16 color-333 fw550"},[e._v(e._s(e.destination))])]),e._v(" "),a("p",{staticClass:"has-line"},[a("span",{staticClass:"line"}),a("span",{staticClass:"fz14 color-333 ml15"},[e._v(e._s(e.$t("m.about"))+e._s(e.distance)+"km")])]),e._v(" "),a("p",[a("img",{attrs:{src:s("xmsu"),alt:""}}),e._v(" "),a("span",{staticClass:"fz16 color-333 fw550"},[e._v(e._s(e.orderInfo.arrive))])])]),e._v(" "),e.orderInfo.car?a("div",{staticClass:"car flex-between"},[a("div",[a("p",{staticClass:"fz14 color-333 fw550"},[e._v(e._s(e.orderInfo.car.name))]),e._v(" "),a("p",{staticClass:"max-w"},["zh"==e.lang?a("span",{staticClass:"fz14 color-333"},[e._v(e._s(e.orderInfo.car.model)+"或同级别车型  可容纳 ")]):e._e(),e._v(" "),"en"==e.lang?a("span",{staticClass:"fz14 color-333"},[e._v(e._s(e.orderInfo.car.model)+" corolla or similar ")]):e._e(),a("br"),e._v(" "),a("img",{staticClass:"ml5",attrs:{src:s("xTuL"),alt:""}}),e._v(" "),a("span",{staticClass:"fz14 color-green"},[e._v("*"+e._s(e.orderInfo.car.people))]),e._v(" "),a("img",{attrs:{src:s("xJYx"),alt:""}}),e._v(" "),a("span",{staticClass:"fz14 color-green"},[e._v("*"+e._s(e.orderInfo.car.luggage))])])]),e._v(" "),a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.orderInfo.car.img,expression:"orderInfo.car.img"}],staticClass:"car-img",attrs:{alt:""}})])]):e._e(),e._v(" "),a("div",[a("div",{staticClass:"flex-between server-info p-relative"},[a("div",[a("p",[e._v(e._s(e.$t("order.reservation")))]),e._v(" "),a("p",[e._v(e._s(e.$t("order.baby-booster")))]),e._v(" "),a("p",[e._v(e._s(e.$t("order.discount"))+" "),a("img",{staticClass:"wh14",attrs:{src:s("zOyB"),alt:""}})])]),e._v(" "),a("div",{staticClass:"text-left"},[a("p",[e._v(e._s(e.currency)+e._s(Number(e.carPrice)))]),e._v(" "),a("p",[e._v(e._s(e.currency)+e._s(e.childrenPrice))]),e._v(" "),0==e.coupon?a("p",{staticClass:"cursor",on:{click:function(t){e.isShowCoupon=!e.isShowCoupon}}},[e._v(e._s(e.$t("order.coupon-tips"))+" "),a("i",{staticClass:"el-icon-arrow-right"})]):a("p",{staticClass:"fz14 color-green"},[e._v("-"+e._s(e.currency)+e._s(e.coupon))])])]),e._v(" "),e.isShowCoupon?a("div",{staticClass:"coupon"},[a("div",{staticClass:"coupon-item flex-between item-center"},[a("img",{attrs:{src:s("k1eH"),alt:""}}),e._v(" "),a("div",{staticClass:"coupon-detail"},[a("p",{staticClass:"color-yellow"},[a("span",{staticClass:"fz16"},[e._v(e._s(e.currency))]),a("span",{staticClass:"fz26"},[e._v("10")]),e._v(" "),a("span",{staticClass:"fz16"},[e._v("包车劵")])]),e._v(" "),a("p",{staticClass:"fz14 color-666"},[e._v("【春节特别】包车旅游券")]),e._v(" "),a("p",{staticClass:"fz14 color-666"},[e._v("有效期至2018年2月28日")])]),e._v(" "),a("div",{staticClass:"fz16 color-yellow cursor",on:{click:function(t){return e.useCoupon(10)}}},[e._v(e._s(e.$t("order.apply")))])]),e._v(" "),a("div",{staticClass:"coupon-item flex-between item-center"},[a("img",{attrs:{src:s("k1eH"),alt:""}}),e._v(" "),a("div",{staticClass:"coupon-detail"},[a("p",{staticClass:"color-yellow"},[a("span",{staticClass:"fz16"},[e._v(e._s(e.currency))]),a("span",{staticClass:"fz26"},[e._v("10")]),e._v(" "),a("span",{staticClass:"fz16"},[e._v("包车劵")])]),e._v(" "),a("p",{staticClass:"fz14 color-666"},[e._v("【春节特别】包车旅游券")]),e._v(" "),a("p",{staticClass:"fz14 color-666"},[e._v("有效期至2018年2月28日")])]),e._v(" "),a("div",{staticClass:"fz16 color-yellow cursor"},[e._v(e._s(e.$t("order.apply")))])])]):e._e()]),e._v(" "),a("div",{staticClass:"flex-between total"},[a("div",[a("p",{staticClass:"fz16 color-333 fw550"},[e._v(e._s(e.$t("order.total")))]),e._v(" "),a("p",{staticClass:"fz14 color-333 fw550"},["en"==e.lang?a("span",[e._v(e._s(10*e.extra_ffee.rebate_rate)+"% ")]):e._e(),e._v(e._s(e.$t("order.commission"))+" \n                    "),"zh"==e.lang?a("span",[e._v(e._s(10*e.extra_ffee.rebate_rate)+"%")]):e._e(),e._v(" "),a("img",{staticClass:"wh14",attrs:{src:s("zOyB"),alt:""}})])]),e._v(" "),a("div",[a("p",{staticClass:"fz22 color-333 fw550"},[e._v(e._s(e.currency)+e._s(e.totalPrice.toFixed(2)))]),e._v(" "),a("p",{staticClass:"fz16 color-333 fw550"},[e._v(e._s(e.currency)+e._s((e.totalPrice*e.extra_ffee.rebate_rate).toFixed(2)))])])])]):e._e(),e._v(" "),a("div",{staticClass:"flex-between tips"},[a("p",{staticClass:"fz14 color-333 max-w"},[e._v(e._s(e.$t("order.cancel-tips")))]),e._v(" "),e._m(0)])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{staticClass:"wh40",attrs:{src:s("CCyb"),alt:""}})])}]};var p=s("VU/8")(n,_,!1,function(e){s("iFx6")},"data-v-753a486a",null);t.default=p.exports},zJCv:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAWCAYAAABQUsXJAAAFNElEQVRYR8WXbUxTZxTH/8+lvBSw6ubcYp1ijCErcXzQey9NkLeogFQ3RQkuS1yZSmW+EVHYooIvLEuGgvMFM3VuOtRFjJGXsGSKImHQ22JQM7NNnJmYMD8QKKAVaO9ZLrFOhdZSMXs+3p7///ye03vP8xwGH5der9fSwMAM5i/fb2y81uqyEcXZ8wBmMJstG3y09lrGvI4EIAhCAgNWADQfwDuDWsJNs8Xy/jPwGSB2TCbMtVgsl0biP9JYr+CjZs0SyY8rARAVrFb3xyck+Ot0ERQ2bRqnVquLIiIiNrsS63S6gDGhIX8x4PcmyTJ3pEAjiX8ZPCeK/G4QtowfN65/tckEg2Gh2t/f/9kc7QBmMMYeuh4KgpDNQHsBqgY4h9dAjJyQYQOH25yTLjVarZInrVv4sLCwoLcnTiwHKGVBSkp3Ts7m0ODgYM6NWTmAT1wbuHv3bmLx3j01nZ2dLyvOc3ayLKOnp5cePPhHec4AZiYgU5Kk68PlHdY8Li5OZbc/PAeCYfOWXEdqamqAF9XrBPAHgEkApngR7zakp6cHFy9elI8e+RYdHR19YPSB2Wz95UXBsPCiIBwDyJibl4fFi5eMqHqvAv2i1mazUdaaNc7W1tZepyxHNjc333s2ZgiYKM5OB7HTK1euopWrVv1v4C7I9vZ2R9qypXL/wMBZSbJ87BZe6d2y03Fj5syZ4w8cPMgCA4NGs5Aj9iIiOBwOlJYeenyqrEwFxk02m80PXEbPVVbk+dNgSFer1bDb7QgMDERkZCSWLktDTEzMiJP7IlCAL1+uxbnyc7h58wb6+/sRpFbLj+12jsDWSZJ0YAi8yPMbiKF4rEbD4uLjodVq0dXVhfqr9bh/vw1JycnYunUbVCqVL0xeaRTQgvx81NZewtSpUxEdPQeasRq03WvDlSuX0dvbOwBGJrPZ+t2TdgRE8fwSYiiPjY1l27ZvR2jomKfJnE4nTp44gcOHS7EsLQ2bNuV4BeJLUGHhblRVVmLd+vVIT18OjvuvM9tsNuwoyEdDQ4PM+cHQ1GStYU9OxDvv6XSTjxw56ray+0pKcObMafxYdgrTp0/3hc2j5tat35BhNMJozECmyTRsrPLPZGQYcfvP23ckiyWc8TyfxDHUFO3Zi+joaI+9d0Fy0mBFPlu7dtTh9xQVoaqqEjU1PyvvuFv/2tpafPF5HmRCLIsShFwCfVVXdxWBQZ67y6cZxsGDLysra9ThS0qKodFocPBQqUdv5TtMSpwPAq1jIs9vA8POhl8b4efn51FoMmXieksLlI7wOpZer0dxyT6P1o8ePUJCfJxym81hgiB8xEBlP5w4KYeHh7u7u0D5cJOTEtHT3X3eSVBumKO6OCBvwlsTkiurqsGY+7OxpaUFpszVAKMPmV6vf0N2OtoSE5OCduzc6Ra+ouICviwsREBgkKG+vr56VMkBiOLsVBAr37VrN+bNV8aF4Vdebq7SNrvtj/smDW5REIQCBsrfmJ1N6enLh2xb2W32xg3o6++72thojh1t8Cd+TBT5ptCQUOGb/fuh00UMSfP98eODLZtAWyTJ+rUL1E/g+fOMYaEgiDAsNECrnYyurk7UXalDdXUVnE75b06W0ziiwfvq61hOxt4ljv2kUvlrFy1ahDkxc6DRjEVb2z1UXKjAtWvNSsM4aZakFcoM56r8mwykDBXPTRmvA/BVPAmsQJKkHS6Pp6+IIAiLGaNxyg9EFAJwAUTkUAYMxkh+laS+aIkYxxGFyIypGJP7AHRMMVvPngWcLr9/Afgn+6zwKsW7AAAAAElFTkSuQmCC"}});
//# sourceMappingURL=17.6ee8145a175ab6ccae81.js.map