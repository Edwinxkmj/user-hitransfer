webpackJsonp([11],{"/Up6":function(t,e){},LrNy:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("mvHQ"),a=r.n(s),o=r("Dd8w"),n=r.n(o),i=r("NYxO"),c={name:"order-list",components:{pagination:r("+ThO").a},data:function(){return{form:{create_time:"",use_time:"",out_trade_no:"",name:"",mobile:"",status:"",sort:""},isLoading:!0,orderList:[],nextPage:"",operate:{cancel:this.$t("order.cancel-order"),pay:this.$t("order.pay"),refund:this.$t("order.return-money"),urge:this.$t("order.urge")},currentPage:1,listTotal:10,showPrivateRemark:!1,privateRemarkValue:"",showCancelOrder:!1,cancelTitle:this.$t("order.cancel-book"),showNoRefundCancel:!1,cancelOrderInfo:{},btn_out_trade_no:""}},mounted:function(){this.getOrderList()},computed:n()({},Object(i.e)({lang:function(t){return t.lang}})),methods:{handleClick:function(t){this.form.status=t.index,this.getOrderList()},sort:function(t){1==t?"use_time_asc"!=this.form.sort?this.form.sort="use_time_asc":this.form.sort="use_time_desc":"order_time_desc"!=this.form.sort?this.form.sort="order_time_desc":this.form.sort="order_time_asc",this.getOrderList()},bindCancel:function(t){1==t?this.confirmCancelOrder():(this.cancelTitle=this.$t("order.cancel-book"),this.showCancelOrder=!1)},showPriveteR:function(t,e){this.privateRemarkValue=e||"",this.btn_out_trade_no=t,this.showPrivateRemark=!0},savePrivateRemark:function(){var t=this;this.privateRemarkValue?this.$axios.post(this.lang+"/order/private-remark",{private_remark:this.privateRemarkValue,out_trade_no:this.btn_out_trade_no}).then(function(e){1==e.data.status?(t.$message.success(t.$t("order.private-remark-success")),t.getOrderList(),t.showPrivateRemark=!1):t.$message.error(e.message)}):this.$message.error(this.$t("order.private-remark"))},goOrderDts:function(t,e,r,s){"transfer"==t||"pointcar"==t?this.$router.push({path:"/index/orderDts",query:{type:t,out_trade_no:e}}):"charter"==t||"day-charter"==t?this.$router.push({path:"/index/dayCarDts",query:{type:t,out_trade_no:e,use_time:s}}):"private-custom"==t&&this.$router.push({path:"/index/customizeDts",query:{type:t,out_trade_no:e,status_text:r,use_time:s}})},operateBtn:function(t,e,r){this.btn_out_trade_no=e;var s=r.currency_symbol+r.total_fee;"pay"==t?(sessionStorage.setItem("payParams",a()({num:s,out_trade_no:e})),this.$router.push({name:"payorder"})):"cancel"==t?this.orderCancel(e):"refund"==t?this.orderRefund():"urge"==t&&this.orderUrgent()},orderUrgent:function(){var t=this;this.$axios.post(this.lang+"/order/urgent",{out_trade_no:this.btn_out_trade_no}).then(function(e){1==e.data.status&&t.$message.success(t.$t("order.urge-successful"))})},orderRefund:function(){var t=this;this.$axios.post(this.lang+"/order/refund",{out_trade_no:this.btn_out_trade_no}).then(function(e){1==e.data.status&&(t.getOrderList(),t.cancelTitle="",t.showCancelOrder=!0)})},confirmCancelOrder:function(){var t=this;this.$axios.post(this.lang+"/order/cancel-confirm",{out_trade_no:this.btn_out_trade_no}).then(function(e){t.showCancelOrder=!1,t.getOrderList()})},orderCancel:function(t){var e=this,r={out_trade_no:t};this.$axios.post(this.lang+"/order/cancel",r).then(function(t){0==t.data.data.need_alert?(e.showNoRefundCancel=!0,e.getOrderList()):(e.showCancelOrder=!0,e.cancelOrderInfo=t.data.data)})},getOrderList:function(){var t=this;this.orderList.length=0;var e=this.lang+"/order/list?create_time="+this.form.create_time+"&create_time="+this.form.create_time+"\n                     &status="+this.form.status+"&out_trade_no="+this.form.out_trade_no+"&name="+this.form.name+"\n                     &mobile="+this.form.mobile+"&sort="+this.form.sort;this.$axios.get(e).then(function(e){t.isLoading=!1,t.orderList=e.data.data.list,t.nextPage=e.data.data.next_page?e.data.data.next_page:""},function(){t.isLoading=!1})},loadMore:function(){var t=this;this.$axios.get(this.nextPage).then(function(e){t.isLoading=!1,t.orderList=t.orderList.concat(e.data.data.list),t.nextPage=e.data.data.next_page?e.data.data.next_page:""},function(){t.isLoading=!1})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-list"},[s("div",{staticClass:"left-content"},[s("div",{staticClass:"search",attrs:{shadow:"always"}},[s("h3",{staticClass:"pt25"},[t._v(t._s(t.$t("order.bookings")))]),t._v(" "),s("el-row",{staticClass:"mt20"},[s("el-col",{attrs:{span:20}},[s("el-input",{attrs:{placeholder:t.$t("order.order-number")},model:{value:t.form.out_trade_no,callback:function(e){t.$set(t.form,"out_trade_no",e)},expression:"form.out_trade_no"}},[s("i",{staticClass:"el-input__icon el-icon-s-unfold",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),s("el-col",{attrs:{span:2,offset:1}},[s("el-button",{class:{"en-pd":"en"==t.lang,"zh-pd":"zh"==t.lang},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getOrderList}},[t._v(t._s(t.$t("order.search")))])],1)],1)],1),t._v(" "),s("div",{staticClass:"status mt10"},[s("el-tabs",{on:{"tab-click":t.handleClick}},[s("el-tab-pane",{attrs:{label:t.$t("wallet.all"),name:""}}),t._v(" "),s("el-tab-pane",{attrs:{label:t.$t("order.unpaid"),name:"1"}}),t._v(" "),s("el-tab-pane",{attrs:{label:t.$t("order.pending"),name:"2"}}),t._v(" "),s("el-tab-pane",{attrs:{label:t.$t("order.processing"),name:"3"}}),t._v(" "),s("el-tab-pane",{attrs:{label:t.$t("order.completed"),name:"4"}}),t._v(" "),s("el-tab-pane",{attrs:{label:t.$t("order.return-cancel"),name:"5"}})],1)],1),t._v(" "),s("div",{staticClass:"fz16 color-666 text-right mt20"},[s("span",{staticClass:"cursor sort",class:{active:"use_time_asc"==t.form.sort||"use_time_desc"==t.form.sort},on:{click:function(e){return t.sort(1)}}},[t._v(t._s(t.$t("order.pick-up-time"))+" "),s("i",{staticClass:"el-icon-d-caret"})]),t._v(" "),s("span",{staticClass:"ml15 cursor sort",class:{active:"order_time_desc"==t.form.sort||"order_time_asc"==t.form.sort},on:{click:function(e){return t.sort(2)}}},[t._v(t._s(t.$t("order.date-ordered"))+" "),s("i",{staticClass:"el-icon-d-caret"})])]),t._v(" "),0==t.orderList.length?s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"no-content text-center mt20"},[s("img",{attrs:{src:r("VyAr"),alt:""}}),t._v(" "),s("p",{staticClass:"fz12 color-green"},[t._v(t._s(t.$t("order.no-order")))])]):t._e(),t._v(" "),t._l(t.orderList,function(e,a){return s("div",{key:a,staticClass:"order"},[s("div",{staticClass:"flex-between cursor",on:{click:function(r){return t.goOrderDts(e.type,e.out_trade_no,e.status_text,e.use_time)}}},[s("p",["transfer"==e.type&&-1!=e.title.indexOf("接机")?s("img",{staticClass:"order-type-img",attrs:{src:r("mwoX"),alt:""}}):t._e(),t._v(" "),"transfer"==e.type&&-1!=e.title.indexOf("送机")?s("img",{staticClass:"order-type-img",attrs:{src:r("NqKz"),alt:""}}):t._e(),t._v(" "),s("span",{staticClass:"fz16 color-333 ml5 title"},[t._v(t._s(e.title))])]),t._v(" "),s("p",[s("span",{staticClass:"status-btn green p-relative text-center fz16",class:{plf15:"en"==t.lang}},[t._v(t._s(e.status_text))])])]),t._v(" "),s("div",{staticClass:"flex-between"},[s("p",[s("img",{staticClass:"wh20",attrs:{src:r("k/Cy"),alt:""}}),t._v("  "),s("span",{staticClass:"fz16 color-333 ml10"},[t._v(t._s(e.use_time))])]),t._v(" "),s("p",{staticClass:"fz16 color-green"},[t._v(t._s(e.currency_symbol+e.total_fee))])]),t._v(" "),s("div",{staticClass:"flex-between fz16 oder-info mt30"},[s("p",[s("label",{staticClass:"color-666 "},[t._v(t._s(t.$t("order.client-name")))]),t._v(" "),s("span",{staticClass:"color-333"},[t._v(t._s(e.name))])]),t._v(" "),s("p",[s("label",{staticClass:"color-666"},[t._v(t._s(t.$t("order.order-number")))]),t._v(" "),s("span",{staticClass:"color-333"},[t._v(t._s(e.out_trade_no))])])]),t._v(" "),s("div",{staticClass:"flex-between fz16 oder-info"},[s("p",[s("label",{staticClass:"color-666"},[t._v(t._s(t.$t("order.phone-number")))]),t._v(" "),s("span",{staticClass:"color-333"},[t._v(t._s(e.mobile))])]),t._v(" "),s("p",[s("label",{staticClass:"color-666"},[t._v(t._s(t.$t("order.date-ordered")))]),t._v(" "),s("span",{staticClass:"color-333"},[t._v(t._s(e.create_time))])])]),t._v(" "),s("div",{staticClass:"flex-between fz14 mt30"},[e.private_remark?s("p",{staticClass:"color-green cursor max-width",on:{click:function(r){return t.showPriveteR(e.out_trade_no,e.private_remark)}}},[t._v(t._s(e.private_remark)+" "),s("i",{staticClass:"el-icon-edit"})]):t._e(),t._v(" "),e.private_remark?t._e():s("p",{staticClass:"color-333 underline cursor",on:{click:function(r){return t.showPriveteR(e.out_trade_no)}}},[t._v(t._s(t.$t("order.private-note")))]),t._v(" "),s("p",{staticClass:"btns"},t._l(e.operate,function(r){return s("span",{key:r,class:{green:"pay"==r||"refund"==r,gray:"cancel"==r||"urge"==r},on:{click:function(s){return t.operateBtn(r,e.out_trade_no,e)}}},[t._v(t._s(t.operate[r]))])}),0)])])}),t._v(" "),t.nextPage&&t.orderList.length>0?s("div",{staticClass:"load-more cursor mt30",on:{click:function(e){return t.loadMore()}}},[s("span",{staticClass:"fz12 color-666"},[t._v(t._s(t.$t("order.more"))+" "),s("i",{staticClass:"el-icon-arrow-down"})])]):t._e(),s("br"),s("br"),t._v(" "),s("div",{staticClass:"mt50"})],2),t._v(" "),s("div",{staticClass:"right-content",class:{"zh-right-content":"zh"==t.lang,"en-right-content":"en"==t.lang}},[s("div",{staticClass:"rule"},[s("h3",[t._v(t._s(t.$t("order.refund-rules")))]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips1"))+" ")]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips2"))+" ")]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips3"))+"  ")]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips4")))]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips5")))]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips6")))]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips7")))]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips8")))]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips9")))]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-rules-tips10")))])])]),t._v(" "),s("el-dialog",{attrs:{title:t.$t("order.private-note"),visible:t.showPrivateRemark,width:"360px",center:""},on:{"update:visible":function(e){t.showPrivateRemark=e}}},[s("el-input",{attrs:{type:"textarea",placeholder:t.$t("order.private-note-pl"),"show-word-limit":"",rows:"3"},model:{value:t.privateRemarkValue,callback:function(e){t.privateRemarkValue=e},expression:"privateRemarkValue"}}),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"custom-btn",attrs:{type:""},on:{click:t.savePrivateRemark}},[t._v(t._s(t.$t("m.ok")))])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:t.cancelTitle,visible:t.showCancelOrder,width:"360px",center:""},on:{"update:visible":function(e){t.showCancelOrder=e},close:function(e){return t.bindCancel(2)}}},[t.cancelTitle?s("p",{staticClass:"fz14 color-333"},[t.cancelOrderInfo.fee_cancel_time&&"zh"==t.lang?s("span",[t._v("行程开始"+t._s(t.cancelOrderInfo.fee_cancel_time.value)+t._s(t.cancelOrderInfo.fee_cancel_time.type)+"前可免费取消，")]):t._e(),t._v(" "),t.cancelOrderInfo.fee_cancel_time&&"en"==t.lang?s("span",[t._v("Free cancellation up to "+t._s(t.cancelOrderInfo.fee_cancel_time.value)+" "+t._s(t.cancelOrderInfo.fee_cancel_time.type)+" before pick-up.")]):t._e(),t._v(" "),s("span",[t._v(" "+t._s(t.$t("order.refund-money"))+t._s(t.cancelOrderInfo.currency)+t._s(t.cancelOrderInfo.refund))])]):t._e(),t._v(" "),t.cancelTitle?s("span",{staticClass:"dialog-footer cancel-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.showCancelOrder=!1}}},[t._v(t._s(t.$t("order.no")))]),t._v(" "),s("el-button",{staticClass:"mt10",attrs:{size:"small",type:"danger"},on:{click:function(e){return t.bindCancel(1)}}},[t._v(t._s(t.$t("order.y-cancel")))])],1):t._e(),t._v(" "),t.cancelTitle?t._e():s("div",{staticClass:"refund-success text-center"},[s("img",{attrs:{src:r("yhq9"),alt:""}}),t._v(" "),s("p",{staticClass:"fz20 color-333 fw600"},[t._v(t._s(t.$t("order.refund-successful")))]),t._v(" "),s("p",[t._v(t._s(t.$t("order.refund-tips")))]),t._v(" "),s("el-button",{attrs:{size:"medium",round:""},on:{click:function(e){return t.bindCancel(2)}}},[t._v(t._s(t.$t("order.ok2")))])],1)]),t._v(" "),s("el-dialog",{attrs:{visible:t.showNoRefundCancel,width:"360px",center:""},on:{"update:visible":function(e){t.showNoRefundCancel=e}}},[s("div",{staticClass:"text-center"},[s("img",{attrs:{src:r("tkv7"),alt:""}}),t._v(" "),s("p",{staticClass:"fz20 color-333 fw600"},[t._v(t._s(t.$t("order.cancel-successful")))]),t._v(" "),s("el-button",{staticClass:"no-redund-cancel cursor",attrs:{size:"medium",round:""},on:{click:function(e){t.showNoRefundCancel=!1}}},[t._v(t._s(t.$t("order.ok2")))])],1)])],1)},staticRenderFns:[]};var d=r("VU/8")(c,l,!1,function(t){r("/Up6")},"data-v-27c34dc2",null);e.default=d.exports},VyAr:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA8CAMAAADmFZJDAAAAZlBMVEVHcEw3g2pNkXo4hGo4hGqlx7tFinM4hGqBsqA4hWqnyLyoybxloYyoyLw5hWyjx7o4hWpPk3uoyb6Mt6g5hWo4hGqnyLz///+oyb1AiXB7rp1hnomEs6Odw7bA2NBQk3y71czt8/FnEbfKAAAAFXRSTlMAKeBDtOYT8uqvgZnnW960ke053157AV9CAAABOElEQVRIx+2Xy3aDIBBAiQrGxkeahIeoIfn/n6ymHByoBZLa00W9GwHPZRgYFiAESIs6jyM5Y9xUyIIUNJZSMCaEaCz/CZ2N/og4AP0SrVPMNILMfhat18wAtiCP9hOji7fZpy/4bPPX8skqfiv7B7KlqgdIOvW7oN9zTU8Fh3T0yvk9Ir5mjC8hdOp3K+WPDS/5GVrgv/u7dfxOo5tgZEQFfVB/j+Ywj3BTfx6/HTSKKvDRyN/Pf/P/yE8//7UO1lA4vuQOkiq3/Hzx1e1qcVO0NUNC+4Vn/TFs/uYbDppm/x3vXp8FKTf/J77w+zg4gXT9o3X+Qf/s+hfoV+ENcF4WOUHPJbD3LB+hU3gBVgXXxLk54QwwmKDefbl6p2AKgznDjCxd3qrB03tyGTa9FnGZ5Hl9TF3zA+6M6QrOnGGnAAAAAElFTkSuQmCC"},"k/Cy":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAAMFBMVEVHcExmZmZnZ2dkZGRmZmZkZGRvb29mZmZmZmZmZmZmZmZmZmZmZmZnZ2dmZmZmZmY96gGqAAAAEHRSTlMA9rJD/R8J1YNn4FPGljbrFgMiPQAAAJNJREFUCNdjYGD+WMDAwCO/gYGBgeOCGAMDI0cDA8Ob+gvi5eWFHN8PM1RHnHQNDQ2c1GrFIMbaO4GBgfNGAAsDUCEEsDAIG0OBCYOQEhSoICsAMXk2wJm7CqBM1h2LlSZDmBweGyIPBkAU3EngXgdVy/6AaQKUyThLqQHKDNGbpQBlsjKwBYCYxTDbXjFYCULBYgCuJiNwI17dkwAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=11.508d4737d978cdafaefc.js.map