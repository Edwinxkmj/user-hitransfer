webpackJsonp([5],{"55nG":function(t,e){},"5hcd":function(t,e,o){t.exports=o.p+"static/img/user2.5e44643.jpg"},LkHL:function(t,e){},"Pdg/":function(t,e){},eInZ:function(t,e){},eYGs:function(t,e,o){t.exports=o.p+"static/img/user3.be76157.jpg"},jT7l:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("Dd8w"),n=o.n(i),r=o("NYxO"),s=o("woOf"),a=o.n(s),c={name:"Login",inject:["reload"],props:{loginLoading:{type:Boolean,default:!1},cacheAccount:{type:Object,default:function(){}}},computed:n()({},Object(r.e)({lang:function(t){return t.lang}})),data:function(){return{form:{email:"",password:"",isRemember:!1},isShowPwd:!1,emailError:!1,emailErrorText:this.$t("yz.null-email"),pwdError:!1}},methods:{changeFn:function(){this.$router.push({path:"/index/user",query:{type:"retrieve"}}),this.reload()},togglePwdShow:function(){this.isShowPwd=!this.isShowPwd},loginAction:function(){var t={email:this.form.email,password:this.form.password,isRemember:this.form.isRemember};return t.email?this.isEmail(this.form.email)?void(t.password?this.$emit("login",t):this.pwdError=!0):(this.emailError=!0,void(this.emailErrorText=this.$t("yz.email-error"))):(this.emailError=!0,void(this.emailErrorText=this.$t("yz.null-email")))},inputEmail:function(){this.emailError=!1},isEmail:function(t){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t)}},mounted:function(){this.cacheAccount&&(this.form=a()(this.form,this.cacheAccount))}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"title"},[t._v(t._s(t.$t("account.login"))+" "),"zh"==t.lang?o("span",[t._v(t._s(t.$t("account.hitransfers")))]):t._e()]),t._v(" "),o("el-form",[o("el-form-item",[o("el-input",{attrs:{placeholder:t.$t("account.email")},on:{input:t.inputEmail},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),t.emailError?o("p",{staticClass:"erro-info"},[t._v(t._s(t.emailErrorText))]):t._e()],1),t._v(" "),o("el-form-item",[o("el-input",{attrs:{type:t.isShowPwd?"text":"password",placeholder:t.$t("account.password")},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),t.pwdError&&!t.form.password?o("p",{staticClass:"erro-info"},[t._v(t._s(t.$t("yz.null-pwd")))]):t._e()],1),t._v(" "),o("el-form-item",[o("el-checkbox",{model:{value:t.form.isRemember,callback:function(e){t.$set(t.form,"isRemember",e)},expression:"form.isRemember"}},[t._v(t._s(t.$t("account.remember")))]),t._v(" "),o("span",{staticClass:"show-pwd",on:{click:t.togglePwdShow}},[t._v(t._s(t.isShowPwd?t.$t("account.hide-pwd"):t.$t("account.show-pwd")))])],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"custom-btn",attrs:{loading:t.loginLoading},on:{click:t.loginAction}},[t._v(t._s(t.$t("account.log-in")))])],1),t._v(" "),o("p",{staticClass:"text-center fz14 color-666"},[o("span",{staticClass:"forget-pwd",on:{click:t.changeFn}},[t._v(t._s(t.$t("account.forget-pwd")))])])],1)],1)},staticRenderFns:[]};var m=o("VU/8")(c,l,!1,function(t){o("eInZ")},"data-v-55eae85b",null).exports,d={name:"RetrievePwd",data:function(){return{form:{email:"",verification_code:"",password:"",password_confirmation:""},countDownSeconds:60,verificationLoading:!1,cantSend:!1,emailError:!1,emailErrorText:"",verificationError:!1,verificationText:"",pwdError:!1,pwdErrorText:"",pwdConfError:!1}},computed:n()({},Object(r.e)({lang:function(t){return t.lang}})),methods:n()({},Object(r.b)({sendCode:"sendCode"}),{getVerificationCode:function(){var t=this;if(!this.form.email)return this.emailError=!0,void(this.emailErrorText=this.$t("yz.null-email"));if(!this.isEmail(this.form.email))return this.emailError=!0,void(this.emailErrorText=this.$t("yz.email-error"));var e={email:this.form.email,verification_type:4},o=this;e.email?(this.verificationLoading=!0,this.$axios.post(this.lang+"/tools/verification",e).then(function(){o.$message({message:t.$t("account.have-send-tips"),type:"success"}),o.verificationLoading=!1;var e=o.$miment().add(60,"ss").format("YYYY-MM-DD hh:mm:ss");o.$cookie.set("regist_expireDateTime",e,{expires:1}),o.countDown(),o.cantSend=!0},function(){o.verificationLoading=!1})):this.$message({message:this.$t("yz.null-email"),type:"warning"})},countDown:function(){var t=this,e=setInterval(function(){t.countDownSeconds>1?t.countDownSeconds=t.countDownSeconds-1:(clearTimeout(e),t.cantSend=!1,t.countDownSeconds=60,t.$cookie.remove("regist_expireDateTime"))},1e3)},created:function(){var t=this.$cookie.get("regist_expireDateTime");if(t){var e=Math.ceil(this.$miment(t).diff(this.$miment().format("YYYY-MM-DD hh:mm:ss"))/1e3);e>0?(this.countDownSeconds=e,this.cantSend=!0,this.countDown()):(this.countDownSeconds=60,this.cantSend=!1)}},resetPassword:function(){var t=this,e=this,o={email:this.form.email,password:this.form.password,password_confirmation:this.form.checkPass,verification_code:this.form.verification_code};return o.email?this.isEmail(o.email)?void(o.verification_code?o.password?o.password_confirmation==o.password?this.$axios.post("en/account/reset-pwd",o).then(function(o){e.$message({message:t.$t("account.reset-success"),type:"success"}),e.$emit("showLogin","login")}):this.pwdConfError=!0:this.pwdError=!0:this.verificationError=!0):(this.emailError=!0,void(this.emailErrorText=this.$t("yz.email-error"))):(this.emailError=!0,void(this.emailErrorText=this.$t("yz.null-email")))},inputEmail:function(){this.emailError=!1},isEmail:function(t){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t)}})},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"title"},[t._v(t._s(t.$t("account.reset-password")))]),t._v(" "),o("el-form",[o("el-form-item",[o("el-input",{attrs:{placeholder:t.$t("account.email")},on:{input:function(e){return t.inputEmail()}},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),t.emailError?o("p",{staticClass:"erro-info"},[t._v(t._s(t.emailErrorText))]):t._e()],1),t._v(" "),o("el-form-item",[o("el-input",{attrs:{placeholder:t.$t("account.verification")},model:{value:t.form.verification_code,callback:function(e){t.$set(t.form,"verification_code",e)},expression:"form.verification_code"}},[o("el-button",{attrs:{slot:"append",loading:t.verificationLoading,plain:t.cantSend,disabled:t.cantSend},on:{click:t.getVerificationCode},slot:"append"},[o("span",{class:{"color-999":t.cantSend,"color-green":!t.cantSend}},[t._v(t._s(t.$t("account.send"))+" "),t.cantSend?o("span",[t._v(" ("+t._s(t.countDownSeconds)+"s) ")]):t._e()])])],1),t._v(" "),t.verificationError&&!t.form.verification_code?o("p",{staticClass:"erro-info"},[t._v(t._s(t.$t("yz.null-verification-code")))]):t._e()],1),t._v(" "),o("el-form-item",[o("el-input",{attrs:{type:"password",placeholder:t.$t("account.new-password")},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),t.pwdError&&!t.form.password?o("p",{staticClass:"erro-info"},[t._v(t._s(t.$t("yz.null-pwd")))]):t._e()],1),t._v(" "),o("el-form-item",[o("el-input",{attrs:{type:"password",placeholder:t.$t("account.new-password-agin")},on:{input:function(e){t.pwdConfError=!1}},model:{value:t.form.checkPass,callback:function(e){t.$set(t.form,"checkPass",e)},expression:"form.checkPass"}}),t._v(" "),t.pwdConfError?o("p",{staticClass:"erro-info"},[t._v(t._s(t.$t("yz.pwd-wrong")))]):t._e()],1),t._v(" "),o("el-form-item",{staticClass:"m-b-0"},[o("el-button",{staticClass:"custom-btn",on:{click:t.resetPassword}},[t._v(t._s(t.$t("account.reset")))])],1)],1)],1)},staticRenderFns:[]};var f=o("VU/8")(d,u,!1,function(t){o("Pdg/")},"data-v-55bed5d0",null).exports,h={name:"Register",inject:["reload"],data:function(){return{form:{email:"",password:"",code:"",checkPass:""},countDownSeconds:60,cantSend:!1,verificationLoading:!1,registLoading:!1,emailError:!1,emailErrorText:"",verificationError:!1,verificationText:"",pwdError:!1,pwdErrorText:"",pwdConfError:!1}},computed:n()({},Object(r.e)({lang:function(t){return t.lang}})),methods:{goHelp:function(t){this.$router.push({path:"/index/help",query:{active:t}}),this.reload()},getVerificationCode:function(){var t=this;if(!this.form.email)return this.emailError=!0,void(this.emailErrorText=this.$t("yz.null-email"));if(!this.isEmail(this.form.email))return this.emailError=!0,void(this.emailErrorText=this.$t("yz.email-error"));var e={email:this.form.email,verification_type:3},o=this;e.email?(this.verificationLoading=!0,this.$axios.post("en/tools/verification",e).then(function(){o.$message({message:t.$t("account.have-send-tips"),type:"success"}),o.verificationLoading=!1;var e=o.$miment().add(60,"ss").format("YYYY-MM-DD hh:mm:ss");o.$cookie.set("regist_expireDateTime",e,{expires:1}),o.countDown(),o.cantSend=!0},function(){o.verificationLoading=!1})):this.$message({message:this.$t("yz.null-email"),type:"warning"})},countDown:function(){var t=this,e=setInterval(function(){t.countDownSeconds>1?t.countDownSeconds=t.countDownSeconds-1:(clearTimeout(e),t.cantSend=!1,t.countDownSeconds=60,t.$cookie.remove("regist_expireDateTime"))},1e3)},created:function(){var t=this.$cookie.get("regist_expireDateTime");if(t){var e=Math.ceil(this.$miment(t).diff(this.$miment().format("YYYY-MM-DD hh:mm:ss"))/1e3);e>0?(this.countDownSeconds=e,this.cantSend=!0,this.countDown()):(this.countDownSeconds=60,this.cantSend=!1)}},inputEmail:function(){this.emailError=!1},isEmail:function(t){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t)},registAction:function(){var t=this,e={email:this.form.email,password:this.form.password,password_confirmation:this.form.checkPass,verification_code:this.form.code};return e.email?this.isEmail(e.email)?void(e.verification_code?e.password?e.password_confirmation==e.password?(this.registLoading=!0,this.$axios.post("en/account/register",e).then(function(e){t.$cookie.set("access_token",e.data.data.token_type+" "+e.data.data.access_token),t.registLoading=!1,t.$router.push({path:"/index/user",query:{type:"login"}}),t.reload()},function(){t.registLoading=!1})):this.pwdConfError=!0:this.pwdError=!0:this.verificationError=!0):(this.emailError=!0,void(this.emailErrorText=this.$t("yz.email-error"))):(this.emailError=!0,void(this.emailErrorText=this.$t("yz.null-email")))}}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"title"},[t._v(t._s(t.$t("account.sign-up"))+" "),"zh"==t.lang?o("span",[t._v(t._s(t.$t("account.hitransfers")))]):t._e()]),t._v(" "),o("el-form",[o("el-form-item",[o("el-input",{attrs:{placeholder:t.$t("account.email")},on:{input:function(e){return t.inputEmail()}},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),t.emailError?o("p",{staticClass:"erro-info"},[t._v(t._s(t.emailErrorText))]):t._e()],1),t._v(" "),o("el-form-item",[o("el-input",{attrs:{placeholder:t.$t("account.verification")},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}},[o("el-button",{attrs:{slot:"append",loading:t.verificationLoading,plain:t.cantSend,disabled:t.cantSend},on:{click:t.getVerificationCode},slot:"append"},[o("span",{class:{"color-999":t.cantSend,"color-green":!t.cantSend}},[t._v(t._s(t.$t("account.send"))+" "),t.cantSend?o("span",[t._v(" ("+t._s(t.countDownSeconds)+"s) ")]):t._e()])])],1),t._v(" "),t.verificationError&&!t.form.code?o("p",{staticClass:"erro-info"},[t._v(t._s(t.$t("yz.null-verification-code")))]):t._e()],1),t._v(" "),o("el-form-item",[o("el-input",{attrs:{type:"password",placeholder:t.$t("account.create-pwd")},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),t.pwdError&&!t.form.password?o("p",{staticClass:"erro-info"},[t._v(t._s(t.$t("yz.null-pwd")))]):t._e()],1),t._v(" "),o("el-form-item",[o("el-input",{attrs:{type:"password",placeholder:t.$t("account.confim-pwd")},on:{input:function(e){t.pwdConfError=!1}},model:{value:t.form.checkPass,callback:function(e){t.$set(t.form,"checkPass",e)},expression:"form.checkPass"}}),t._v(" "),t.pwdConfError?o("p",{staticClass:"erro-info"},[t._v(t._s(t.$t("yz.pwd-wrong")))]):t._e()],1),t._v(" "),o("p",{staticClass:"text-center notice fz14 color-666"},[t._v("\n      "+t._s(t.$t("account.agree-our"))+" "),o("span",{staticClass:"color-green cursor",on:{click:function(e){return t.goHelp(4)}}},[t._v(t._s(t.$t("help.user")))]),t._v(" "+t._s(t.$t("account.and"))+" "),o("span",{staticClass:"color-green cursor",on:{click:function(e){return t.goHelp(2)}}},[t._v(t._s(t.$t("account.privacy-policy")))])]),t._v(" "),o("el-form-item",{staticClass:"m-b-0"},[o("el-button",{staticClass:"custom-btn",attrs:{loading:t.registLoading},on:{click:t.registAction}},[t._v(t._s(t.$t("account.sign-up")))])],1)],1)],1)},staticRenderFns:[]};var v={name:"LoginBox",components:{login:m,retrievePwd:f,register:o("VU/8")(h,p,!1,function(t){o("55nG")},"data-v-918917cc",null).exports},inject:["reload"],data:function(){return{isShow:!1,loginLoading:!1,currentBoxName:""}},methods:n()({},Object(r.d)({setUserInfo:"SET_USER_INFO",setCacheAccount:"SET_CACHE_ACCOUNT",clearCacheAccount:"CLEAR_CACHE_ACCOUNT"}),Object(r.b)({login:"login"}),{changeCurrent:function(t){this.currentBoxName=t},showLoginFn:function(){this.currentBoxName="login"},loginAction:function(t){var e=this,o=this;this.loginLoading=!0,this.$axios.post("en/account/login",t).then(function(i){o.loginLoading=!1,t.isRemember?o.setCacheAccount({email:t.email,password:t.password,isRemember:t.isRemember}):o.clearCacheAccount(),o.$cookie.set("access_token",i.data.data.token_type+" "+i.data.data.access_token),o.setUserInfo(i.data.data.user),window.history.length<=4?e.$router.push({name:"home"}):e.$router.go(-1),o.reload()},function(){o.loginLoading=!1})}}),mounted:function(){this.currentBoxName=this.$route.query.type,this.isShow=this.isShowLoginBox},computed:n()({},Object(r.c)(["isShowLoginBox"]),Object(r.e)({cacheAccount:function(t){return t.cacheAccount},lang:function(t){return t.lang}})),watch:{isShowLoginBox:function(){this.isShow=this.isShowLoginBox}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-between user"},[i("div",{staticClass:"left-content"},[i("div",{staticClass:"form"},["login"===t.currentBoxName?i("login",{attrs:{cacheAccount:t.cacheAccount,loginLoading:t.loginLoading},on:{change:t.changeCurrent,login:t.loginAction}}):t._e(),t._v(" "),"retrieve"===t.currentBoxName?i("retrieve-pwd",{on:{change:t.changeCurrent,showLogin:t.showLoginFn}}):t._e(),t._v(" "),"register"===t.currentBoxName?i("register",{on:{change:t.changeCurrent}}):t._e(),t._v(" "),i("div",{staticClass:"text-center"},["register"!=t.currentBoxName?[i("div",{staticClass:"division fz14 color-666"},[t._v("or")]),t._v(" "),i("div",{staticClass:"login-links cursor btn-border",on:{click:function(e){return t.changeCurrent("register")}}},[t._v("\n            "+t._s(t.$t("account.dont-account"))+"\n            "),i("span",[t._v(t._s(t.$t("account.sign")))])])]:[i("div",{staticClass:"login-links cursor mt40",on:{click:function(e){return t.changeCurrent("login")}}},[t._v("\n            "+t._s(t.$t("account.have-account"))+"\n            "),i("span",[t._v(t._s(t.$t("account.login")))])])]],2)],1)]),t._v(" "),i("div",{staticClass:"right-content"},[[i("el-carousel",{staticStyle:{height:"90vh"},attrs:{direction:"vertical",interval:5e3,arrow:"hover",autoplay:!0}},[i("el-carousel-item",[i("img",{attrs:{src:o("kFRI"),alt:""}})]),t._v(" "),i("el-carousel-item",[i("img",{attrs:{src:o("5hcd"),alt:""}})]),t._v(" "),i("el-carousel-item",[i("img",{attrs:{src:o("eYGs"),alt:""}})])],1)]],2)])},staticRenderFns:[]};var g=o("VU/8")(v,_,!1,function(t){o("LkHL")},"data-v-6ae36d9e",null);e.default=g.exports},kFRI:function(t,e,o){t.exports=o.p+"static/img/user1.89bb129.jpg"}});
//# sourceMappingURL=5.c71f3a87155af350e3c8.js.map