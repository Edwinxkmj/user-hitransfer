webpackJsonp([14],{"0G1A":function(t,e){},"3NG+":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),n=s("bOdI"),c=s.n(n),l=s("NYxO"),r={name:"ClassifyList",props:{value:{type:[String,Number],default:"全部"},list:{type:Array,default:function(){return[]}},cityid:{default:""},title:{type:String,default:""},itemName:{type:String,default:""}},computed:a()({},Object(l.e)({lang:function(t){return t.lang}})),data:function(){return{openKey:!0}},methods:{toOpen:function(){this.openKey=!this.openKey},allClick:function(){this.$emit("input",Math.random())}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"classify"},[s("div",{staticClass:"classify-title"},[t._t("title",[t._v(t._s(t.title))])],2),t._v(" "),s("ul",{staticClass:"classify-list",class:{noOpen:t.openKey}},[s("li",{class:{active:"{}"===t.value&&!t.cityid},on:{click:t.allClick}},[t._v(t._s(t.$t("wallet.all")))]),t._v(" "),t._l(t.list,function(e,i){return s("li",{key:"hot_"+i,class:{active:t.value===JSON.stringify(e),active2:t.cityid==e.id&&t.title==t.$t("m.hot")},on:{click:function(s){t.$emit("input",JSON.stringify(e))}}},[t._v(t._s(""===t.itemName?e:e[t.itemName]))])})],2),t._v(" "),t.title==t.$t("m.hot")?s("div",{staticClass:"more color-green",on:{click:t.toOpen}},[t._v("\n    "+t._s(t.$t("m.more"))+"\n    "),t.openKey?s("span",{staticClass:"el-icon-arrow-down"}):s("span",{staticClass:"el-icon-arrow-up"})]):t._e(),t._v(" "),t.title==t.$t("m.theme")&&"en"==t.lang?s("div",{staticClass:"more color-green",on:{click:t.toOpen}},[t._v("\n    "+t._s(t.$t("m.more"))+"\n    "),t.openKey?s("span",{staticClass:"el-icon-arrow-down"}):s("span",{staticClass:"el-icon-arrow-up"})]):t._e()])},staticRenderFns:[]};var u=s("VU/8")(r,o,!1,function(t){s("0G1A")},null,null).exports,d=s("+ThO"),p={name:"PlaceCard",props:{place:{type:Object,default:function(){return{}},required:!0}},computed:a()({},Object(l.e)({lang:function(t){return t.lang}}))},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticStyle:{cursor:"pointer"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.place.img,expression:"place.img"}],staticClass:"border-top",staticStyle:{width:"386px",height:"250px"}}),t._v(" "),s("div",{staticClass:"place"},[s("h3",{staticClass:"title"},[t._v(t._s(t.place.title))]),t._v(" "),s("div",{staticClass:"flex-between location-number"},[s("div",{staticClass:"location"},[s("i",{staticClass:"el-icon-location-information"}),t._v("\n        "+t._s(t.place.country)+"，"+t._s(t.place.city)+"\n      ")]),t._v(" "),s("div",{staticClass:"number"},[t._v("\n        "+t._s(t.place.num)+t._s(t.$t("order.sold"))+"\n      ")])]),t._v(" "),s("div",{staticClass:"flex-between price-star"},[s("span",{staticClass:"price color-green"},["en"==t.lang?s("span",[t._v("from")]):t._e(),t._v("\n          "+t._s(t.place.price)+"\n          "+t._s(t.$t("m.pp"))+"\n        ")]),t._v(" "),s("el-rate",{staticStyle:{position:"relative",left:"10px"},attrs:{colors:["#F9BD4F","#F9BD4F","#F9BD4F"],disabled:""},model:{value:t.place.score,callback:function(e){t.$set(t.place,"score",e)},expression:"place.score"}})],1)])])},staticRenderFns:[]};var h=s("VU/8")(p,m,!1,function(t){s("YcHY")},"data-v-56c17be3",null).exports,y={name:"chartered",components:{classifyList:u,pagination:d.a,placeCard:h},data:function(){var t;return t={cityList:[],themeList:[],dayList:[],keyword:"",city:"{}",theme:"{}",days:"{}",placeList:[],currentPage:1,isLoading:!0,listTotal:0},c()(t,"dayList",[{title:this.$t("m.day-filter1"),value:1},{title:this.$t("m.day-filter2"),value:2},{title:this.$t("m.day-filter3"),value:3}]),c()(t,"sort",""),c()(t,"sortType",""),c()(t,"cityId",""),t},computed:a()({},Object(l.e)({lang:function(t){return t.lang}})),methods:{getDataList:function(t){var e=this;this.$axios.get(this.lang+"/charter",{params:{city_id:JSON.parse(this.city).id||this.cityId,theme:JSON.parse(this.theme).value||"",keyword:this.keyword.trim()||"",sort:this.sort||"",days:JSON.parse(this.days).value||"",page:this.currentPage}}).then(function(s){e.isLoading=!1,"init"==t&&(e.cityList=s.data.data.city,e.themeList=s.data.data.theme),e.placeList=s.data.data.list,e.listTotal=s.data.data.total})},sortFn:function(t){this.sortType=t,"sale"==t?"sales_asc"!=this.sort?this.sort="sales_asc":this.sort="salse_desc":"price"==t?"price_asc"!=this.sort?this.sort="price_asc":this.sort="price_desc":this.sort="",this.getDataList()},doPlaceNumber:function(t){this.$router.push({path:"carDetails",query:{id:t.id,score:t.score,num:t.num}})}},mounted:function(){this.cityId=this.$route.query.cityId,sessionStorage.getItem("lineCityName")&&(this.keyword=sessionStorage.getItem("lineCityName")),this.getDataList("init"),window.scrollTo(0,0)},watch:{city:function(){this.keyword="",this.cityId="","number"==typeof this.city&&(this.city="{}"),this.currentPage=1,this.getDataList()},theme:function(){this.currentPage=1,this.cityId="","number"==typeof this.theme&&(this.theme="{}"),this.getDataList()},days:function(){this.currentPage=1,this.cityId="","number"==typeof this.days&&(this.days="{}"),this.getDataList()},currentPage:function(){this.getDataList(),window.scrollTo(0,290)}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"circuit-chartered"},[s("div",{staticClass:"banner"}),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"search-box"},[s("el-input",{attrs:{placeholder:t.$t("m.search-destination")},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[s("i",{staticClass:"el-input__icon el-icon-search color-green",attrs:{slot:"suffix"},on:{click:function(e){return t.getDataList()}},slot:"suffix"})])],1),t._v(" "),s("div",{staticClass:"classify-box"},[s("classify-list",{attrs:{list:t.cityList,itemName:"name",cityid:t.cityId,title:t.$t("m.hot")},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),t._v(" "),s("classify-list",{attrs:{list:t.themeList,itemName:"name",title:t.$t("m.theme")},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}}),t._v(" "),s("classify-list",{attrs:{list:t.dayList,itemName:"title",title:t.$t("m.days")},model:{value:t.days,callback:function(e){t.days=e},expression:"days"}})],1),t._v(" "),s("div",{staticClass:"sort-methods"},[s("div",{staticClass:"cursor",class:{active:""==t.sortType},on:{click:function(e){return t.sortFn("")}}},[t._v(t._s(t.$t("m.synthesize")))]),t._v(" "),s("div",{staticClass:"cursor",class:{active:"sale"==t.sortType},on:{click:function(e){return t.sortFn("sale")}}},[t._v("\n        "+t._s(t.$t("m.sales"))+"\n        "),t._m(0)]),t._v(" "),s("div",{staticClass:"cursor",class:{active:"price"==t.sortType},on:{click:function(e){return t.sortFn("price")}}},[t._v("\n        "+t._s(t.$t("m.price"))+"\n        "),t._m(1)])]),t._v(" "),s("div",{staticClass:"place-list"},[s("div",{staticClass:"flex-wrap"},t._l(t.placeList,function(e,i){return s("div",{key:i},[s("div",{on:{click:function(s){return t.doPlaceNumber(e)}}},[s("place-card",{staticStyle:{"margin-bottom":"30px"},attrs:{place:e}})],1)])}),0)]),t._v(" "),t.listTotal>0?s("pagination",{attrs:{"current-page":t.currentPage,total:t.listTotal},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"caret"},[e("span",{staticClass:"el-icon-caret-top"}),this._v(" "),e("span",{staticClass:"el-icon-caret-bottom"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"caret"},[e("span",{staticClass:"el-icon-caret-top"}),this._v(" "),e("span",{staticClass:"el-icon-caret-bottom"})])}]};var f=s("VU/8")(y,v,!1,function(t){s("U5YQ")},"data-v-7227d91c",null);e.default=f.exports},U5YQ:function(t,e){},YcHY:function(t,e){}});
//# sourceMappingURL=14.3761ee472e0ec2f85809.js.map