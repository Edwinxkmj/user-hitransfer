webpackJsonp([19],{"/KT1":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),l=s("NYxO"),n={name:"CitySelect",props:{sourceCities:{type:Array,default:function(){return[]}},continentAndCity:{type:Array,default:function(){return[]}},cityIds:{type:Array,default:function(){return[]}},cityName:{type:Array,default:function(){return[]}},isShowCity:{type:Boolean,default:!1}},data:function(){return{place:[],placeIds:[],searchKey:"",currentContinent:"热门",currentCity:"",curretSite:"",resultCities:[],isShowSelect:!1,isSelectCity:!0,cityList:[],siteList:[],addrLoading:!0,showAddress:!1}},methods:{handleCity:function(t){this.isShowSelect=!0,this.showAddress=!1,t.preventDefault()},handlerClick:function(){this.isShowSelect=!1,this.isSelectCity=!0,this.showAddress=!1},selectAddr:function(t){var e=this;this.place.length<5?(this.place.map(function(s,a){s==t.name&&(e.place.splice(a,1),e.placeIds.splice(a,1))}),this.place.push(t.name),this.placeIds.push(t.id)):this.$message({message:this.$t("m.maximux5"),type:"warning"}),this.showAddress=!1,this.isShowSelect=!1,this.$emit("getCityName",this.place),this.$emit("getCityIds",this.placeIds)},deleteTag:function(t,e){var s=this;this.place.map(function(e,a){e==t&&(s.place.splice(a,1),s.placeIds.splice(a,1))})}},mounted:function(){this.cityIds.length>0&&(this.place=this.cityName,this.placeIds=this.cityIds)},computed:i()({},Object(l.e)({lang:function(t){return t.lang}}),{cities:function(){return this.sourceCities},isHideSearchResult:function(){return 0===this.searchKey.replace(/\s+/g,"").length}}),watch:{searchKey:function(){var t=this;this.searchKey&&this.$axios.get(this.lang+"/tools/keyword-lenovo?keyword="+this.searchKey).then(function(e){t.resultCities=e.data.data.city})},isShowCity:function(){this.isShowSelect=this.isShowCity}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"place-select"},[s("div",{staticClass:"tag cursor",on:{click:t.handleCity}},[0==t.place.length?s("span",{staticClass:"tips fz16 color-999"},[t._v(t._s(t.$t("m.destinations-pl")))]):t._e(),t._v(" "),t._l(t.place,function(e,a){return s("el-tag",{key:a,attrs:{size:"small",effect:"plain"},on:{click:[function(e){return e.stopPropagation(),e.preventDefault(),t.handlerClick(e)},function(s){return t.deleteTag(e)}]}},[t._v(t._s(e)),s("i",{staticClass:"el-icon-close"})])})],2),t._v(" "),t.isShowSelect?s("div",{staticClass:"place-box"},[t.isSelectCity?[s("el-input",{attrs:{placeholder:t.$t("m.search-city-privete"),"suffix-icon":"el-icon-search"},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),t._v(" "),t.isHideSearchResult?s("div",{staticClass:"place-tabs"},[s("div",{staticClass:"head"},[s("ul",{staticClass:"continent-list"},t._l(t.continentAndCity,function(e,a){return s("li",{key:a,class:{active:e.continent===t.currentContinent},on:{click:function(s){t.currentContinent=e.continent}}},[t._v("\n              "+t._s(e.continent)+"\n            ")])}),0)]),t._v(" "),s("el-scrollbar",{attrs:{"wrap-class":"list",native:!1}},[t.cities.length>0?s("div",{staticClass:"content"},[s("ul",{staticClass:"city-list"},t._l(t.cities,function(e,a){return s("li",{key:a,class:{active:e.id===t.currentCity},on:{click:function(s){return t.selectAddr(e)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])}),0)]):s("div",{staticClass:"no-city-list"},[t._v("\n            "+t._s(t.$t("m.no-data"))+"\n          ")])])],1):s("div",[t.resultCities.length>0?s("ul",{staticClass:"city-list"},t._l(t.resultCities,function(e,a){return s("li",{key:a,class:{active:e.id===t.currentCity},on:{click:function(s){return t.selectAddr(e)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),0):s("div",{staticClass:"no-city-list"},[t._v("\n           "+t._s(t.$t("m.no-data"))+"\n          ")])])]:t._e()],2):t._e()])},staticRenderFns:[]};var c=s("VU/8")(n,o,!1,function(t){s("8u61")},"data-v-fa626d2e",null).exports,r=s("hQsj"),d={name:"customize",components:{CitySelectCus:c},data:function(){return{active:0,areaCode:[],isShowPersonBox:!1,people:{adult:1,children:0},sourceCities:[],startDate:"",isShowCity:!1,form:{cityIds:[],address:[],peopleNum:this.$t("m.adult")+"*2，"+this.$t("m.children")+"*0",budget:"",demand_ids:[],areaCode:"+86",phone:"",wechat:"",name:"",whatsapp:""},telDate:""}},computed:i()({},Object(l.e)({cityLoading:function(t){return t.cityLoading},lang:function(t){return t.lang}}),Object(l.c)(["cityListByGroup"])),mounted:function(){window.scrollTo(0,0),this.areaCode=Object(r.a)(this.$t("m.china"),this.$t("m.australia"),this.$t("m.new-zealand"),this.$t("m.hong-kong")),this.getCityList()},created:function(){var t=this;document.addEventListener("click",function(e){var s=document.getElementById("box"),a=document.getElementById("personBox");s&&s.contains(e.target)?t.isShowCity=!0:t.isShowCity=!1,a&&a.contains(e.target)?t.isShowPersonBox=!0:t.isShowPersonBox=!1})},methods:i()({},Object(l.b)({searchCarList:"searchCarList",getCityList:"getCityList"}),{getCityList:function(){var t=this;this.$axios.get(this.lang+"/tools/city").then(function(e){t.sourceCities=e.data.data})},getCityName:function(t){this.form.address=t},getCityIds:function(t){this.form.cityIds=t},changePerson:function(){this.isShowPersonBox=!1,this.form.peopleNum=this.$t("m.adult")+"*"+this.people.adult+"，"+this.$t("m.children")+"*"+this.people.children},next:function(){var t=this;if(0==this.active){if(0==this.form.address.length)return void this.$message({message:this.$t("yz.null-destination"),type:"warning"});if(!this.startDate)return void this.$message({message:this.$t("yz.null-start-date2"),type:"warning"});this.active++}else{if(!this.form.name)return void this.$message({message:this.$t("yz.null-name"),type:"warning"});if(!this.form.phone)return void this.$message({message:this.$t("yz.null-phone"),type:"warning"});var e={city_ids:this.form.cityIds.join(","),date:this.startDate,adults:this.people.adult,children:this.people.children,budget:this.form.budget,demand_ids:this.form.demand_ids.join(","),contact_name:this.form.name,area_code:this.form.areaCode,contact_mobile:this.form.phone,wechat:this.form.wechat,whatsapp:this.form.whatsapp};this.$axios.post(this.lang+"/private-custom/make",e).then(function(e){1==e.data.status&&(t.active+=2,t.telDate=e.data.data.date)})}},back:function(){this.active--},goHome:function(){this.$router.push({name:"home"})},getToday:function(){var t=new Date;return t.setTime(t.getTime()),t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}),watch:{startDate:function(){this.startDate&&new Date(this.getToday()).getTime()>new Date(this.startDate).getTime()&&(this.$message({message:this.$t("yz.less-today"),type:"warning"}),this.startDate="")}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customize"},[a("div",{staticClass:"content"},[a("div",{staticClass:"left"},[a("div",{staticClass:"setps"},[a("el-steps",{attrs:{active:t.active,"finish-status":"success"}},[a("el-step",{attrs:{title:t.$t("m.information")}}),t._v(" "),a("el-step",{attrs:{title:t.$t("m.contact")}}),t._v(" "),a("el-step",{attrs:{title:t.$t("m.done")}})],1)],1),a("br"),t._v(" "),0==t.active?a("div",[a("el-form",{attrs:{"label-position":"right","label-width":"100px"}},[a("el-form-item",{attrs:{label:t.$t("m.destinations")}},[a("city-select-cus",{attrs:{id:"box",placeholder:t.$t("m.search-city-privete"),sourceCities:t.sourceCities,cityIds:t.form.cityIds,cityName:t.form.address,isShowCity:t.isShowCity,"input-class":"prev-icon position"},on:{getCityName:t.getCityName,getCityIds:t.getCityIds},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("m.start-date")}},[a("el-date-picker",{staticClass:"date",staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date","prefix-icon":"null",placeholder:t.$t("m.start-date-pl")},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("m.passengers")}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{staticClass:"person",attrs:{id:"personBox"}},[a("el-input",{staticStyle:{position:"relative",right:"20px",top:"-10px"},on:{focus:function(e){t.isShowPersonBox=!0}},model:{value:t.form.peopleNum,callback:function(e){t.$set(t.form,"peopleNum",e)},expression:"form.peopleNum"}}),t._v(" "),t.isShowPersonBox?a("div",{staticClass:"drop-box"},[a("div",{staticClass:"select-box"},[a("span",[t._v(t._s(t.$t("m.adult")))]),t._v(" "),a("el-input-number",{attrs:{min:0},model:{value:t.people.adult,callback:function(e){t.$set(t.people,"adult",e)},expression:"people.adult"}})],1),t._v(" "),a("div",{staticClass:"select-box"},[a("span",[t._v(t._s(t.$t("m.children"))+" （"+t._s(t.$t("m.seven-age"))+"）")]),t._v(" "),a("el-input-number",{attrs:{min:0},model:{value:t.people.children,callback:function(e){t.$set(t.people,"children",e)},expression:"people.children"}})],1),t._v(" "),a("span",{on:{click:t.changePerson}},[t._v(t._s(t.$t("m.ok")))])]):t._e()],1)],1),t._v(" "),a("el-col",{staticClass:"line fz16 color-333",attrs:{span:2}},[t._v(t._s(t.$t("m.budget")))]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",[a("el-input",{staticStyle:{position:"relative",top:"-10px",width:"230px"},attrs:{placeholder:t.$t("m.budget-pl")},model:{value:t.form.budget,callback:function(e){t.$set(t.form,"budget",e)},expression:"form.budget"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("m.others")}},[a("el-checkbox-group",{attrs:{size:"mini"},model:{value:t.form.demand_ids,callback:function(e){t.$set(t.form,"demand_ids",e)},expression:"form.demand_ids"}},[a("el-checkbox",{attrs:{label:t.$t("m.tickets"),border:""}}),t._v(" "),a("el-checkbox",{attrs:{label:t.$t("m.flights"),border:""}}),t._v(" "),a("el-checkbox",{attrs:{label:t.$t("m.hotels"),border:""}})],1)],1)],1),t._v(" "),a("el-button",{staticClass:"mt20 next-btn",staticStyle:{position:"relative",right:"20px"},on:{click:t.next}},[t._v(t._s(t.$t("m.next")))])],1):t._e(),t._v(" "),1==t.active?a("div",[a("el-form",{attrs:{"label-position":"right","label-width":"128px"}},[a("el-form-item",{attrs:{label:t.$t("order.client-name2")}},[a("el-input",{attrs:{placeholder:t.$t("order.client-name2")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("m.phone-number")}},[a("el-input",{staticClass:"tel-input",attrs:{placeholder:t.$t("m.phone-number")},nativeOn:{keyup:function(e){t.form.phone=t.form.phone.replace(/[^\d]/g,"")}},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}},[a("el-select",{staticClass:"area-code",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.form.areaCode,callback:function(e){t.$set(t.form,"areaCode",e)},expression:"form.areaCode"}},t._l(t.areaCode,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}},[a("span",{staticStyle:{float:"left","margin-right":"10px"}},[t._v(t._s(e.label))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])}),1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("m.wechat-number")}},[a("el-input",{attrs:{placeholder:t.$t("m.wechat-pl")},model:{value:t.form.wechat,callback:function(e){t.$set(t.form,"wechat",e)},expression:"form.wechat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"WhatsApp"}},[a("el-input",{attrs:{placeholder:t.$t("m.whatsapp-pl")},model:{value:t.form.whatsapp,callback:function(e){t.$set(t.form,"whatsapp",e)},expression:"form.whatsapp"}})],1)],1),t._v(" "),a("div",{staticClass:"btns"},[a("el-button",{staticClass:"back-btn fz16 color-333",on:{click:t.back}},[t._v(t._s(t.$t("m.back-privete")))]),t._v(" "),a("el-button",{staticClass:"next-btn",on:{click:t.next}},[t._v(t._s(t.$t("m.next")))])],1)],1):t._e(),t._v(" "),3==t.active?a("div",[a("div",{staticClass:"step-three"},[a("img",{attrs:{src:s("4AGf"),alt:""}}),t._v(" "),a("h3",{staticClass:"mt40"},[t._v(t._s(t.$t("m.success"))+"！")]),t._v(" "),"zh"==t.lang?a("div",{staticClass:"color-999 fz16 tip-info"},[a("p",[t._v("定制提交完成，专属定制师会在 ")]),t._v(" "),a("p",[t._v(t._s(t.telDate)+"前与您电话联系 ")]),t._v(" "),a("p",[t._v("请注意来电 ")]),t._v(" "),a("p")]):t._e(),t._v(" "),"en"==t.lang?a("div",{staticClass:"color-999 fz16 tip-info"},[a("p",[t._v("The customized submission is successful. ")]),t._v(" "),a("p",[t._v("we will contact you by phone before "+t._s(t.telDate)+" ")]),t._v(" "),a("p")]):t._e(),t._v(" "),a("el-button",{staticClass:"home-btn fz16 color-333 mt40",on:{click:t.goHome}},[t._v(t._s(t.$t("m.homepage")))])],1)]):t._e()]),t._v(" "),a("div",{staticClass:"right"},[a("h4",{staticClass:"color-fff fz26 fw0"},[t._v(t._s(t.$t("m.information-list")))]),t._v(" "),a("p",{staticClass:"fz16 mt100"},[a("label",{staticClass:"color-ccc"},[t._v(t._s(t.$t("m.destinations")))]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.form.address.length>0?t.form.address.join("，"):" "))])]),t._v(" "),a("p",{staticClass:"fz16"},[a("label",{staticClass:"color-ccc"},[t._v(t._s(t.$t("m.start-date")))]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.startDate))])]),t._v(" "),a("p",{staticClass:"fz16"},[a("label",{staticClass:"color-ccc"},[t._v(t._s(t.$t("m.passengers2")))]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.form.peopleNum))])]),t._v(" "),a("p",{staticClass:"fz16"},[a("label",{staticClass:"color-ccc"},[t._v(t._s(t.$t("m.budget2")))]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.form.budget))])]),t._v(" "),a("p",{staticClass:"fz16"},[a("label",{staticClass:"color-ccc"},[t._v(t._s(t.$t("m.others")))]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.form.demand_ids.length>0?t.form.demand_ids.join("，"):""))])]),t._v(" "),a("p",{staticClass:"fz16"},[a("label",{staticClass:"color-ccc"},[t._v(t._s(t.$t("order.client-name2")))]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.form.name))])]),t._v(" "),a("p",{staticClass:"fz16"},[a("label",{staticClass:"color-ccc"},[t._v(t._s(t.$t("m.phone-number")))]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.form.phone))])]),t._v(" "),a("p",{staticClass:"fz16"},[a("label",{staticClass:"color-ccc"},[t._v(t._s(t.$t("m.wechat-number")))]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.form.wechat))])]),t._v(" "),a("p",{staticClass:"fz16"},[a("label",{staticClass:"color-ccc"},[t._v("WhatsApp")]),t._v(" "),a("span",{staticClass:"color-fff"},[t._v(t._s(t.form.whatsapp))])])])])])},staticRenderFns:[]};var p=s("VU/8")(d,m,!1,function(t){s("lGSQ")},"data-v-55ff1a10",null);e.default=p.exports},"8u61":function(t,e){},lGSQ:function(t,e){}});
//# sourceMappingURL=19.3fed82cccaf33c19a9e2.js.map